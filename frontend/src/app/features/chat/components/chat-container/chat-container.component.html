<div class="chat-container">
  <!-- Chat Header -->
  <chat-header
    *ngIf="showHeader"
    [conversation]="conversation"
    [isTyping]="isTyping"
    [typingUser]="typingUser"
    (backClick)="onBackClick()">
  </chat-header>

  <!-- Message List -->
  <chat-message-list
    [messages]="messages"
    [loading]="isLoading"
    [isTyping]="isTyping"
    [typingUser]="typingUser"
    [userId]="userId"
    [hasMoreMessages]="hasMoreMessages"
    (loadOlderMessages)="onLoadOlderMessages()"
    (retryMessage)="onRetryMessage($event)">
  </chat-message-list>

  <!-- Message Input -->
  <chat-message-input
    [disabled]="isSending || !conversation"
    (messageSent)="onSendMessage($event)"
    (typing)="onTyping()">
  </chat-message-input>
</div>
