<div class="dashboard-container">
  <!-- Web View with Sidebar -->
  <mat-sidenav-container class="sidenav-container">
    <mat-sidenav #drawer class="sidenav"
                 [attr.role]="(responsiveUtils.isHandset$ | async) ? 'dialog' : 'navigation'"
                 [mode]="(responsiveUtils.isHandset$ | async) ? 'over' : 'side'"
                 [opened]="(responsiveUtils.isHandset$ | async) === false">
      <app-sidebar
        [sections]="sections"
        [activeSection]="activeSection"
        (sectionChange)="onSectionChange($event)">
      </app-sidebar>

      <app-list-view
        [activeSection]="activeSection"
        (conversationSelected)="onConversationSelected($event)">
      </app-list-view>
    </mat-sidenav>

    <mat-sidenav-content>
      <!-- Mobile View with Top Tabs -->
      <div *ngIf="responsiveUtils.isHandset$ | async" class="mobile-view">
        <app-top-tabs
          [sections]="sections"
          [activeSection]="activeSection"
          (sectionChange)="onSectionChange($event)">
        </app-top-tabs>

        <app-list-view
          *ngIf="!activeConversation"
          [activeSection]="activeSection"
          (conversationSelected)="onConversationSelected($event)"
          class="mobile-list-view">
        </app-list-view>
      </div>

      <!-- Main Screen (Chat Room) -->
      <app-main-screen
        *ngIf="(!(responsiveUtils.isHandset$ | async) || activeConversation)"
        [conversation]="activeConversation">
      </app-main-screen>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
